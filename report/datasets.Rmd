---
title: "Datasets description"
output:
  html_document:
    df_print: paged
---

# Setup
```{r}
root_dir <- rprojroot::is_git_root$find_file()
#knitr::opts_knit$set(root.dir=root_dir)
setwd(root_dir)
.libPaths(c(.libPaths(), 'env/lib/R'))

library(magrittr)
source('lib/R/geo.R')
config <- yaml::read_yaml('config.yml')
```

## List of datasets
```{r}
config$geo_datasets %>% paste(seq_along(.), ., sep=': ') %>% cat(sep=', ')
```

## Select dataset
```{r}
(gse_id <- config$geo_datasets[1])
```

# Information about dataset
Information retrieved from NCBI database and GEO website

```{r}
info_e = info_from_eutils(gse_id)
info_w = info_from_web(gse_id)
info_p = geo_to_pubmed(gse_id)

info = c(info_e[c('title', 'summary')],
         info_w[c('Overall design', 'geo_url')],
         info_p[c('doi_url', 'title', 'abstract')])

info %>% lapply(paste, collapse=' ') %>% paste(names(.), ., sep=': ') %>% cat(sep='\n\n')
```
